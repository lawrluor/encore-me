<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Encore Me API Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    .method-badge {
      padding: 0.25rem 0.75rem;
      border-radius: 9999px;
      font-size: 0.75rem;
      font-weight: 700;
      text-transform: uppercase;
    }

    .method-get {
      background-color: #dcfce7;
      color: #166534;
    }

    .method-post {
      background-color: #dbeafe;
      color: #1e40af;
    }

    .method-put {
      background-color: #fef9c3;
      color: #854d0e;
    }

    .method-delete {
      background-color: #fee2e2;
      color: #991b1b;
    }

    .endpoint-card {
      background: linear-gradient(to right, #f9fafb, #ffffff);
      border-radius: 0.5rem;
      box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
      padding: 1.5rem;
      margin-bottom: 2rem;
      transition: all 0.3s;
      border-left: 4px solid #818cf8;
    }

    .endpoint-card:hover {
      box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1);
      border-left-color: #4f46e5;
      background: linear-gradient(to right, #eef2ff, #ffffff);
    }

    .endpoint-header {
      cursor: pointer;
    }

    .test-panel {
      margin-top: 1.5rem;
      padding-top: 1.5rem;
      border-top: 2px solid #e5e7eb;
      background-color: #f9fafb;
      border-radius: 0.5rem;
      padding: 1.5rem;
    }

    .code-block {
      background-color: #111827;
      color: #f3f4f6;
      padding: 1rem;
      border-radius: 0.5rem;
      overflow-x: auto;
      font-size: 0.875rem;
    }

    pre {
      margin: 0;
    }
  </style>
</head>

<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
  <div class="container mx-auto px-4 py-8 max-w-7xl">
    <!-- Header -->
    <div class="bg-white rounded-lg shadow-lg p-8 mb-8">
      <div class="flex items-center justify-between">
        <div>
          <h1 class="text-4xl font-bold text-gray-800 mb-2">
            <i class="fas fa-rocket text-indigo-600"></i> Encore Me API
          </h1>
          <p class="text-gray-600">Interactive API Documentation & Testing Dashboard</p>
        </div>
        <div class="text-right">
          <div class="text-sm text-gray-500">Base URL</div>
          <div class="text-lg font-mono text-indigo-600" id="baseUrl">http://localhost:4200</div>
        </div>
      </div>

      <!-- Login Status -->
      <div id="loginStatus" class="mt-6 pt-6 border-t border-gray-200" style="display: none;">
        <div class="flex items-center justify-between">
          <div class="flex items-center gap-4">
            <div class="flex items-center gap-2">
              <i class="fas fa-user-circle text-green-600 text-2xl"></i>
              <div>
                <div class="text-sm text-gray-500">Logged in as</div>
                <div class="font-semibold text-gray-800" id="userEmail"></div>
              </div>
            </div>
            <div class="flex items-center gap-2">
              <i class="fas fa-key text-indigo-600"></i>
              <div>
                <div class="text-sm text-gray-500">Bearer Token</div>
                <div class="font-mono text-xs text-gray-600 max-w-md truncate" id="displayToken"></div>
              </div>
            </div>
          </div>
          <button onclick="logout()"
            class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition text-sm">
            <i class="fas fa-sign-out-alt"></i> Logout
          </button>
        </div>
      </div>
    </div>

    <!-- Stats -->
    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8">
      <div class="bg-white rounded-lg shadow p-6">
        <div class="text-3xl font-bold text-green-600">4</div>
        <div class="text-gray-600">GET Endpoints</div>
      </div>
      <div class="bg-white rounded-lg shadow p-6">
        <div class="text-3xl font-bold text-blue-600">3</div>
        <div class="text-gray-600">POST Endpoints</div>
      </div>
      <div class="bg-white rounded-lg shadow p-6">
        <div class="text-3xl font-bold text-yellow-600">3</div>
        <div class="text-gray-600">PUT Endpoints</div>
      </div>
      <div class="bg-white rounded-lg shadow p-6">
        <div class="text-3xl font-bold text-red-600">3</div>
        <div class="text-gray-600">DELETE Endpoints</div>
      </div>
    </div>


    <!-- Endpoints -->
    <div class="space-y-6">
      <!-- Public Endpoints -->
      <div>
        <h2 class="text-2xl font-bold text-gray-800 mb-4">
          <i class="fas fa-globe"></i> Public Endpoints
        </h2>

        <!-- Hello -->
        <div class="endpoint-card">
          <div class="endpoint-header" onclick="toggleTestPanel('hello', 'GET', '/api/hello')">
            <div class="flex items-center justify-between mb-3">
              <div class="flex items-center gap-3">
                <span class="method-badge method-get">GET</span>
                <span class="font-mono text-lg">/api/hello</span>
              </div>
              <i class="fas fa-chevron-down text-gray-400"></i>
            </div>
            <p class="text-gray-600">Simple hello world endpoint to verify API is running</p>
          </div>

          <!-- Inline Test Panel -->
          <div id="test-panel-hello" class="test-panel" style="display: none;">
            <div class="flex gap-4 mb-4">
              <button onclick="sendInlineRequest('hello', 'GET', '/api/hello')"
                class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition">
                <i class="fas fa-paper-plane"></i> Send Request
              </button>
              <button onclick="closeInlinePanel('hello')"
                class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition">
                Cancel
              </button>
            </div>
            <div id="response-hello" class="mt-4" style="display: none;">
              <h4 class="text-lg font-bold mb-2">Response</h4>
              <div class="code-block">
                <pre id="response-content-hello"></pre>
              </div>
            </div>
          </div>
        </div>

        <!-- Create User -->
        <div class="endpoint-card">
          <div class="endpoint-header" onclick="toggleTestPanel('createUser', 'POST', '/api/users')">
            <div class="flex items-center justify-between mb-3">
              <div class="flex items-center gap-3">
                <span class="method-badge method-post">POST</span>
                <span class="font-mono text-lg">/api/users</span>
              </div>
              <i class="fas fa-chevron-down text-gray-400"></i>
            </div>
            <p class="text-gray-600">Create a new user account</p>
          </div>

          <div id="test-panel-createUser" class="test-panel" style="display: none;">
            <div class="mb-4">
              <label class="block text-sm font-medium text-gray-700 mb-2">Request Body (JSON)</label>
              <textarea id="body-createUser" rows="6"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500">{"email": "user@example.com", "password": "password123", "name": "John Doe"}</textarea>
            </div>
            <div class="flex gap-4 mb-4">
              <button onclick="sendInlineRequest('createUser', 'POST', '/api/users')"
                class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition">
                <i class="fas fa-paper-plane"></i> Send Request
              </button>
              <button onclick="closeInlinePanel('createUser')"
                class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition">
                Cancel
              </button>
            </div>
            <div id="response-createUser" class="mt-4" style="display: none;">
              <h4 class="text-lg font-bold mb-2">Response</h4>
              <div class="code-block">
                <pre id="response-content-createUser"></pre>
              </div>
            </div>
          </div>
        </div>

        <!-- Get Users -->
        <div class="endpoint-card">
          <div class="endpoint-header" onclick="toggleTestPanel('getUsers', 'GET', '/api/users')">
            <div class="flex items-center justify-between mb-3">
              <div class="flex items-center gap-3">
                <span class="method-badge method-get">GET</span>
                <span class="font-mono text-lg">/api/users</span>
              </div>
              <i class="fas fa-chevron-down text-gray-400"></i>
            </div>
            <p class="text-gray-600">Get all users (passwords excluded)</p>
          </div>

          <div id="test-panel-getUsers" class="test-panel" style="display: none;">
            <div class="flex gap-4 mb-4">
              <button onclick="sendInlineRequest('getUsers', 'GET', '/api/users')"
                class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition">
                <i class="fas fa-paper-plane"></i> Send Request
              </button>
              <button onclick="closeInlinePanel('getUsers')"
                class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition">
                Cancel
              </button>
            </div>
            <div id="response-getUsers" class="mt-4" style="display: none;">
              <h4 class="text-lg font-bold mb-2">Response</h4>
              <div class="code-block">
                <pre id="response-content-getUsers"></pre>
              </div>
            </div>
          </div>
        </div>

        <!-- Login -->
        <div class="endpoint-card">
          <div class="endpoint-header" onclick="toggleTestPanel('login', 'POST', '/api/auth/login')">
            <div class="flex items-center justify-between mb-3">
              <div class="flex items-center gap-3">
                <span class="method-badge method-post">POST</span>
                <span class="font-mono text-lg">/api/auth/login</span>
              </div>
              <i class="fas fa-chevron-down text-gray-400"></i>
            </div>
            <p class="text-gray-600">Login and receive JWT token</p>
          </div>

          <div id="test-panel-login" class="test-panel" style="display: none;">
            <div class="mb-4">
              <label class="block text-sm font-medium text-gray-700 mb-2">Request Body (JSON)</label>
              <textarea id="body-login" rows="4"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500">{"email": "user@example.com", "password": "password123"}</textarea>
            </div>
            <div class="flex gap-4 mb-4">
              <button onclick="sendInlineRequest('login', 'POST', '/api/auth/login')"
                class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition">
                <i class="fas fa-paper-plane"></i> Send Request
              </button>
              <button onclick="closeInlinePanel('login')"
                class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition">
                Cancel
              </button>
            </div>
            <div id="response-login" class="mt-4" style="display: none;">
              <h4 class="text-lg font-bold mb-2">Response</h4>
              <div class="code-block">
                <pre id="response-content-login"></pre>
              </div>
            </div>
          </div>
        </div>

        <!-- Get User by ID -->
        <div class="endpoint-card">
          <div class="endpoint-header" onclick="toggleTestPanel('getUserById', 'GET', '/api/users')">
            <div class="flex items-center justify-between mb-3">
              <div class="flex items-center gap-3">
                <span class="method-badge method-get">GET</span>
                <span class="font-mono text-lg">/api/users/{'{id}'}</span>
              </div>
              <i class="fas fa-chevron-down text-gray-400"></i>
            </div>
            <p class="text-gray-600">Get a specific user by ID</p>
          </div>

          <div id="test-panel-getUserById" class="test-panel" style="display: none;">
            <div class="mb-4">
              <label class="block text-sm font-medium text-gray-700 mb-2">User ID</label>
              <input type="text" id="id-getUserById" placeholder="Enter user ID..."
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500">
              <p class="text-xs text-gray-500 mt-1">Tip: Create a user first, then copy the ID from the response</p>
            </div>
            <div class="flex gap-4 mb-4">
              <button onclick="sendInlineRequest('getUserById', 'GET', '/api/users')"
                class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition">
                <i class="fas fa-paper-plane"></i> Send Request
              </button>
              <button onclick="closeInlinePanel('getUserById')"
                class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition">
                Cancel
              </button>
            </div>
            <div id="response-getUserById" class="mt-4" style="display: none;">
              <h4 class="text-lg font-bold mb-2">Response</h4>
              <div class="code-block">
                <pre id="response-content-getUserById"></pre>
              </div>
            </div>
          </div>
        </div>

        <!-- Update User -->
        <div class="endpoint-card">
          <div class="endpoint-header" onclick="toggleTestPanel('updateUser', 'PUT', '/api/users')">
            <div class="flex items-center justify-between mb-3">
              <div class="flex items-center gap-3">
                <span class="method-badge method-put">PUT</span>
                <span class="font-mono text-lg">/api/users/{'{id}'}</span>
              </div>
              <i class="fas fa-chevron-down text-gray-400"></i>
            </div>
            <p class="text-gray-600">Update user information</p>
          </div>

          <div id="test-panel-updateUser" class="test-panel" style="display: none;">
            <div class="mb-4">
              <label class="block text-sm font-medium text-gray-700 mb-2">User ID</label>
              <input type="text" id="id-updateUser" placeholder="Enter user ID..."
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500">
            </div>
            <div class="mb-4">
              <label class="block text-sm font-medium text-gray-700 mb-2">Request Body (JSON)</label>
              <textarea id="body-updateUser" rows="4"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500">{"email": "updated@example.com", "name": "Updated Name"}</textarea>
            </div>
            <div class="flex gap-4 mb-4">
              <button onclick="sendInlineRequest('updateUser', 'PUT', '/api/users')"
                class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition">
                <i class="fas fa-paper-plane"></i> Send Request
              </button>
              <button onclick="closeInlinePanel('updateUser')"
                class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition">
                Cancel
              </button>
            </div>
            <div id="response-updateUser" class="mt-4" style="display: none;">
              <h4 class="text-lg font-bold mb-2">Response</h4>
              <div class="code-block">
                <pre id="response-content-updateUser"></pre>
              </div>
            </div>
          </div>
        </div>

        <!-- Delete User -->
        <div class="endpoint-card">
          <div class="endpoint-header" onclick="toggleTestPanel('deleteUser', 'DELETE', '/api/users')">
            <div class="flex items-center justify-between mb-3">
              <div class="flex items-center gap-3">
                <span class="method-badge method-delete">DELETE</span>
                <span class="font-mono text-lg">/api/users/{'{id}'}</span>
              </div>
              <i class="fas fa-chevron-down text-gray-400"></i>
            </div>
            <p class="text-gray-600">Delete a user</p>
          </div>

          <div id="test-panel-deleteUser" class="test-panel" style="display: none;">
            <div class="mb-4">
              <label class="block text-sm font-medium text-gray-700 mb-2">User ID</label>
              <input type="text" id="id-deleteUser" placeholder="Enter user ID..."
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500">
            </div>
            <div class="flex gap-4 mb-4">
              <button onclick="sendInlineRequest('deleteUser', 'DELETE', '/api/users')"
                class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition">
                <i class="fas fa-paper-plane"></i> Send Request
              </button>
              <button onclick="closeInlinePanel('deleteUser')"
                class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition">
                Cancel
              </button>
            </div>
            <div id="response-deleteUser" class="mt-4" style="display: none;">
              <h4 class="text-lg font-bold mb-2">Response</h4>
              <div class="code-block">
                <pre id="response-content-deleteUser"></pre>
              </div>
            </div>
          </div>

          <!-- Set Promoted Set -->
          <div class="endpoint-card">
            <div class="endpoint-header" onclick="toggleTestPanel('setPromotedSet', 'PUT', '/api/users/promoted-set')">
              <div class="flex items-center justify-between mb-3">
                <div class="flex items-center gap-3">
                  <span class="method-badge method-put">PUT</span>
                  <span class="font-mono text-lg">/api/users/promoted-set</span>
                </div>
                <i class="fas fa-chevron-down text-gray-400"></i>
              </div>
              <p class="text-gray-600">Set the promoted set for the authenticated user</p>
            </div>

            <div id="test-panel-setPromotedSet" class="test-panel" style="display: none;">
              <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">Request Body (JSON)</label>
                <textarea id="body-setPromotedSet" rows="3"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500">{"setId": "your-set-id-here"}</textarea>
              </div>
              <div class="flex gap-4 mb-4">
                <button onclick="sendInlineRequest('setPromotedSet', 'PUT', '/api/users/promoted-set')"
                  class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition">
                  <i class="fas fa-paper-plane"></i> Send Request
                </button>
                <button onclick="closeInlinePanel('setPromotedSet')"
                  class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition">
                  Cancel
                </button>
              </div>
              <div id="response-setPromotedSet" class="mt-4" style="display: none;">
                <h4 class="text-lg font-bold mb-2">Response</h4>
                <div class="code-block">
                  <pre id="response-content-setPromotedSet"></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- Clear Promoted Set -->
          <div class="endpoint-card">
            <div class="endpoint-header"
              onclick="toggleTestPanel('clearPromotedSet', 'DELETE', '/api/users/promoted-set')">
              <div class="flex items-center justify-between mb-3">
                <div class="flex items-center gap-3">
                  <span class="method-badge method-delete">DELETE</span>
                  <span class="font-mono text-lg">/api/users/promoted-set</span>
                </div>
                <i class="fas fa-chevron-down text-gray-400"></i>
              </div>
              <p class="text-gray-600">Clear the promoted set for the authenticated user</p>
            </div>

            <div id="test-panel-clearPromotedSet" class="test-panel" style="display: none;">
              <div class="flex gap-4 mb-4">
                <button onclick="sendInlineRequest('clearPromotedSet', 'DELETE', '/api/users/promoted-set')"
                  class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition">
                  <i class="fas fa-paper-plane"></i> Send Request
                </button>
                <button onclick="closeInlinePanel('clearPromotedSet')"
                  class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition">
                  Cancel
                </button>
              </div>
              <div id="response-clearPromotedSet" class="mt-4" style="display: none;">
                <h4 class="text-lg font-bold mb-2">Response</h4>
                <div class="code-block">
                  <pre id="response-content-clearPromotedSet"></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- Delete All Users -->
          <div class="endpoint-card">
            <div class="endpoint-header" onclick="toggleTestPanel('deleteAllUsers', 'DELETE', '/api/users/delete-all')">
              <div class="flex items-center justify-between mb-3">
                <div class="flex items-center gap-3">
                  <span class="method-badge method-delete">DELETE</span>
                  <span class="font-mono text-lg">/api/users/delete-all</span>
                </div>
                <i class="fas fa-chevron-down text-gray-400"></i>
              </div>
              <p class="text-gray-600">Delete all users (admin operation)</p>
            </div>

            <div id="test-panel-deleteAllUsers" class="test-panel" style="display: none;">
              <div class="flex gap-4 mb-4">
                <button onclick="sendInlineRequest('deleteAllUsers', 'DELETE', '/api/users/delete-all')"
                  class="bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition">
                  <i class="fas fa-trash"></i> Delete All Users
                </button>
                <button onclick="closeInlinePanel('deleteAllUsers')"
                  class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition">
                  Cancel
                </button>
              </div>
              <div id="response-deleteAllUsers" class="mt-4" style="display: none;">
                <h4 class="text-lg font-bold mb-2">Response</h4>
                <div class="code-block">
                  <pre id="response-content-deleteAllUsers"></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Protected Endpoints -->
      <div>
        <h2 class="text-2xl font-bold text-gray-800 mb-4">
          <i class="fas fa-lock"></i> Protected Endpoints
          <span class="text-sm font-normal text-gray-500">(Requires Authorization Header)</span>
        </h2>

        <!-- Songs Section -->
        <div>
          <h2 class="text-2xl font-bold text-gray-800 mb-4 mt-8">
            <i class="fas fa-music"></i> Songs Endpoints
            <span class="text-sm font-normal text-gray-500">(Requires Authorization Header)</span>
          </h2>

          <!-- Get Songs -->
          <div class="endpoint-card">
            <div class="endpoint-header" onclick="toggleTestPanel('getSongs', 'GET', '/api/songs')">
              <div class="flex items-center justify-between mb-3">
                <div class="flex items-center gap-3">
                  <span class="method-badge method-get">GET</span>
                  <span class="font-mono text-lg">/api/songs</span>
                </div>
                <i class="fas fa-chevron-down text-gray-400"></i>
              </div>
              <p class="text-gray-600">Get all songs for authenticated user</p>
            </div>

            <div id="test-panel-getSongs" class="test-panel" style="display: none;">
              <div class="flex gap-4 mb-4">
                <button onclick="sendInlineRequest('getSongs', 'GET', '/api/songs')"
                  class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition">
                  <i class="fas fa-paper-plane"></i> Send Request
                </button>
                <button onclick="closeInlinePanel('getSongs')"
                  class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition">
                  Cancel
                </button>
              </div>
              <div id="response-getSongs" class="mt-4" style="display: none;">
                <h4 class="text-lg font-bold mb-2">Response</h4>
                <div class="code-block">
                  <pre id="response-content-getSongs"></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- Create Song -->
          <div class="endpoint-card">
            <div class="endpoint-header" onclick="toggleTestPanel('createSong', 'POST', '/api/songs')">
              <div class="flex items-center justify-between mb-3">
                <div class="flex items-center gap-3">
                  <span class="method-badge method-post">POST</span>
                  <span class="font-mono text-lg">/api/songs</span>
                </div>
                <i class="fas fa-chevron-down text-gray-400"></i>
              </div>
              <p class="text-gray-600">Create a new song</p>
            </div>

            <div id="test-panel-createSong" class="test-panel" style="display: none;">
              <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">Request Body (JSON)</label>
                <textarea id="body-createSong" rows="6"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500">{"title": "My Song", "description": "Song description", "genre": "Pop", "tempo": 120}</textarea>
              </div>
              <div class="flex gap-4 mb-4">
                <button onclick="sendInlineRequest('createSong', 'POST', '/api/songs')"
                  class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition">
                  <i class="fas fa-paper-plane"></i> Send Request
                </button>
                <button onclick="closeInlinePanel('createSong')"
                  class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition">
                  Cancel
                </button>
              </div>
              <div id="response-createSong" class="mt-4" style="display: none;">
                <h4 class="text-lg font-bold mb-2">Response</h4>
                <div class="code-block">
                  <pre id="response-content-createSong"></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- Get Song by ID -->
          <div class="endpoint-card">
            <div class="endpoint-header" onclick="toggleTestPanel('getSongById', 'GET', '/api/songs')">
              <div class="flex items-center justify-between mb-3">
                <div class="flex items-center gap-3">
                  <span class="method-badge method-get">GET</span>
                  <span class="font-mono text-lg">/api/songs/{'{id}'}</span>
                </div>
                <i class="fas fa-chevron-down text-gray-400"></i>
              </div>
              <p class="text-gray-600">Get a specific song by ID</p>
            </div>

            <div id="test-panel-getSongById" class="test-panel" style="display: none;">
              <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">Song ID</label>
                <input type="text" id="id-getSongById" placeholder="Enter song ID..."
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500">
              </div>
              <div class="flex gap-4 mb-4">
                <button onclick="sendInlineRequest('getSongById', 'GET', '/api/songs')"
                  class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition">
                  <i class="fas fa-paper-plane"></i> Send Request
                </button>
                <button onclick="closeInlinePanel('getSongById')"
                  class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition">
                  Cancel
                </button>
              </div>
              <div id="response-getSongById" class="mt-4" style="display: none;">
                <h4 class="text-lg font-bold mb-2">Response</h4>
                <div class="code-block">
                  <pre id="response-content-getSongById"></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- Update Song -->
          <div class="endpoint-card">
            <div class="endpoint-header" onclick="toggleTestPanel('updateSong', 'PUT', '/api/songs')">
              <div class="flex items-center justify-between mb-3">
                <div class="flex items-center gap-3">
                  <span class="method-badge method-put">PUT</span>
                  <span class="font-mono text-lg">/api/songs/{'{id}'}</span>
                </div>
                <i class="fas fa-chevron-down text-gray-400"></i>
              </div>
              <p class="text-gray-600">Update song information</p>
            </div>

            <div id="test-panel-updateSong" class="test-panel" style="display: none;">
              <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">Song ID</label>
                <input type="text" id="id-updateSong" placeholder="Enter song ID..."
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500">
              </div>
              <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">Request Body (JSON)</label>
                <textarea id="body-updateSong" rows="5"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500">{"title": "Updated Song", "genre": "Rock", "tempo": "Moderate"}</textarea>
              </div>
              <div class="flex gap-4 mb-4">
                <button onclick="sendInlineRequest('updateSong', 'PUT', '/api/songs')"
                  class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition">
                  <i class="fas fa-paper-plane"></i> Send Request
                </button>
                <button onclick="closeInlinePanel('updateSong')"
                  class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition">
                  Cancel
                </button>
              </div>
              <div id="response-updateSong" class="mt-4" style="display: none;">
                <h4 class="text-lg font-bold mb-2">Response</h4>
                <div class="code-block">
                  <pre id="response-content-updateSong"></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- Delete Song -->
          <div class="endpoint-card">
            <div class="endpoint-header" onclick="toggleTestPanel('deleteSong', 'DELETE', '/api/songs')">
              <div class="flex items-center justify-between mb-3">
                <div class="flex items-center gap-3">
                  <span class="method-badge method-delete">DELETE</span>
                  <span class="font-mono text-lg">/api/songs/{'{id}'}</span>
                </div>
                <i class="fas fa-chevron-down text-gray-400"></i>
              </div>
              <p class="text-gray-600">Delete a song</p>
            </div>

            <div id="test-panel-deleteSong" class="test-panel" style="display: none;">
              <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">Song ID</label>
                <input type="text" id="id-deleteSong" placeholder="Enter song ID..."
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500">
              </div>
              <div class="flex gap-4 mb-4">
                <button onclick="sendInlineRequest('deleteSong', 'DELETE', '/api/songs')"
                  class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition">
                  <i class="fas fa-paper-plane"></i> Send Request
                </button>
                <button onclick="closeInlinePanel('deleteSong')"
                  class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition">
                  Cancel
                </button>
              </div>
              <div id="response-deleteSong" class="mt-4" style="display: none;">
                <h4 class="text-lg font-bold mb-2">Response</h4>
                <div class="code-block">
                  <pre id="response-content-deleteSong"></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- Delete All Songs -->
          <div class="endpoint-card">
            <div class="endpoint-header" onclick="toggleTestPanel('deleteAllSongs', 'DELETE', '/api/songs/delete-all')">
              <div class="flex items-center justify-between mb-3">
                <div class="flex items-center gap-3">
                  <span class="method-badge method-delete">DELETE</span>
                  <span class="font-mono text-lg">/api/songs/delete-all</span>
                </div>
                <i class="fas fa-chevron-down text-gray-400"></i>
              </div>
              <p class="text-gray-600">Delete all songs (admin operation)</p>
            </div>

            <div id="test-panel-deleteAllSongs" class="test-panel" style="display: none;">
              <div class="flex gap-4 mb-4">
                <button onclick="sendInlineRequest('deleteAllSongs', 'DELETE', '/api/songs/delete-all')"
                  class="bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition">
                  <i class="fas fa-trash"></i> Delete All Songs
                </button>
                <button onclick="closeInlinePanel('deleteAllSongs')"
                  class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition">
                  Cancel
                </button>
              </div>
              <div id="response-deleteAllSongs" class="mt-4" style="display: none;">
                <h4 class="text-lg font-bold mb-2">Response</h4>
                <div class="code-block">
                  <pre id="response-content-deleteAllSongs"></pre>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Acts Section -->
        <div>
          <h2 class="text-2xl font-bold text-gray-800 mb-4 mt-8">
            <i class="fas fa-users"></i> Acts Endpoints
            <span class="text-sm font-normal text-gray-500">(Requires Authorization Header)</span>
          </h2>

          <!-- Get Acts -->
          <div class="endpoint-card">
            <div class="endpoint-header" onclick="toggleTestPanel('getActs', 'GET', '/api/acts')">
              <div class="flex items-center justify-between mb-3">
                <div class="flex items-center gap-3">
                  <span class="method-badge method-get">GET</span>
                  <span class="font-mono text-lg">/api/acts</span>
                </div>
                <i class="fas fa-chevron-down text-gray-400"></i>
              </div>
              <p class="text-gray-600">Get all acts for authenticated user</p>
            </div>

            <div id="test-panel-getActs" class="test-panel" style="display: none;">
              <div class="flex gap-4 mb-4">
                <button onclick="sendInlineRequest('getActs', 'GET', '/api/acts')"
                  class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition">
                  <i class="fas fa-paper-plane"></i> Send Request
                </button>
                <button onclick="closeInlinePanel('getActs')"
                  class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition">
                  Cancel
                </button>
              </div>
              <div id="response-getActs" class="mt-4" style="display: none;">
                <h4 class="text-lg font-bold mb-2">Response</h4>
                <div class="code-block">
                  <pre id="response-content-getActs"></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- Create Act -->
          <div class="endpoint-card">
            <div class="endpoint-header" onclick="toggleTestPanel('createAct', 'POST', '/api/acts')">
              <div class="flex items-center justify-between mb-3">
                <div class="flex items-center gap-3">
                  <span class="method-badge method-post">POST</span>
                  <span class="font-mono text-lg">/api/acts</span>
                </div>
                <i class="fas fa-chevron-down text-gray-400"></i>
              </div>
              <p class="text-gray-600">Create a new act (band/group)</p>
            </div>

            <div id="test-panel-createAct" class="test-panel" style="display: none;">
              <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">Request Body (JSON)</label>
                <textarea id="body-createAct" rows="4"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500">{"title": "The Beatles", "description": "Legendary rock band from Liverpool"}</textarea>
              </div>
              <div class="flex gap-4 mb-4">
                <button onclick="sendInlineRequest('createAct', 'POST', '/api/acts')"
                  class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition">
                  <i class="fas fa-paper-plane"></i> Send Request
                </button>
                <button onclick="closeInlinePanel('createAct')"
                  class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition">
                  Cancel
                </button>
              </div>
              <div id="response-createAct" class="mt-4" style="display: none;">
                <h4 class="text-lg font-bold mb-2">Response</h4>
                <div class="code-block">
                  <pre id="response-content-createAct"></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- Get Act by ID -->
          <div class="endpoint-card">
            <div class="endpoint-header" onclick="toggleTestPanel('getActById', 'GET', '/api/acts')">
              <div class="flex items-center justify-between mb-3">
                <div class="flex items-center gap-3">
                  <span class="method-badge method-get">GET</span>
                  <span class="font-mono text-lg">/api/acts/{'{id}'}</span>
                </div>
                <i class="fas fa-chevron-down text-gray-400"></i>
              </div>
              <p class="text-gray-600">Get a specific act by ID with members</p>
            </div>

            <div id="test-panel-getActById" class="test-panel" style="display: none;">
              <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">Act ID</label>
                <input type="text" id="id-getActById" placeholder="Enter act ID..."
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500">
              </div>
              <div class="flex gap-4 mb-4">
                <button onclick="sendInlineRequest('getActById', 'GET', '/api/acts')"
                  class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition">
                  <i class="fas fa-paper-plane"></i> Send Request
                </button>
                <button onclick="closeInlinePanel('getActById')"
                  class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition">
                  Cancel
                </button>
              </div>
              <div id="response-getActById" class="mt-4" style="display: none;">
                <h4 class="text-lg font-bold mb-2">Response</h4>
                <div class="code-block">
                  <pre id="response-content-getActById"></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- Update Act -->
          <div class="endpoint-card">
            <div class="endpoint-header" onclick="toggleTestPanel('updateAct', 'PUT', '/api/acts')">
              <div class="flex items-center justify-between mb-3">
                <div class="flex items-center gap-3">
                  <span class="method-badge method-put">PUT</span>
                  <span class="font-mono text-lg">/api/acts/{'{id}'}</span>
                </div>
                <i class="fas fa-chevron-down text-gray-400"></i>
              </div>
              <p class="text-gray-600">Update act information</p>
            </div>

            <div id="test-panel-updateAct" class="test-panel" style="display: none;">
              <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">Act ID</label>
                <input type="text" id="id-updateAct" placeholder="Enter act ID..."
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500">
              </div>
              <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">Request Body (JSON)</label>
                <textarea id="body-updateAct" rows="4"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500">{"title": "Updated Band Name", "description": "Updated description"}</textarea>
              </div>
              <div class="flex gap-4 mb-4">
                <button onclick="sendInlineRequest('updateAct', 'PUT', '/api/acts')"
                  class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition">
                  <i class="fas fa-paper-plane"></i> Send Request
                </button>
                <button onclick="closeInlinePanel('updateAct')"
                  class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition">
                  Cancel
                </button>
              </div>
              <div id="response-updateAct" class="mt-4" style="display: none;">
                <h4 class="text-lg font-bold mb-2">Response</h4>
                <div class="code-block">
                  <pre id="response-content-updateAct"></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- Delete Act -->
          <div class="endpoint-card">
            <div class="endpoint-header" onclick="toggleTestPanel('deleteAct', 'DELETE', '/api/acts')">
              <div class="flex items-center justify-between mb-3">
                <div class="flex items-center gap-3">
                  <span class="method-badge method-delete">DELETE</span>
                  <span class="font-mono text-lg">/api/acts/{'{id}'}</span>
                </div>
                <i class="fas fa-chevron-down text-gray-400"></i>
              </div>
              <p class="text-gray-600">Delete an act</p>
            </div>

            <div id="test-panel-deleteAct" class="test-panel" style="display: none;">
              <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">Act ID</label>
                <input type="text" id="id-deleteAct" placeholder="Enter act ID..."
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500">
              </div>
              <div class="flex gap-4 mb-4">
                <button onclick="sendInlineRequest('deleteAct', 'DELETE', '/api/acts')"
                  class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition">
                  <i class="fas fa-paper-plane"></i> Send Request
                </button>
                <button onclick="closeInlinePanel('deleteAct')"
                  class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition">
                  Cancel
                </button>
              </div>
              <div id="response-deleteAct" class="mt-4" style="display: none;">
                <h4 class="text-lg font-bold mb-2">Response</h4>
                <div class="code-block">
                  <pre id="response-content-deleteAct"></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- Add Member to Act -->
          <div class="endpoint-card">
            <div class="endpoint-header" onclick="toggleTestPanel('addMember', 'POST', '/api/acts')">
              <div class="flex items-center justify-between mb-3">
                <div class="flex items-center gap-3">
                  <span class="method-badge method-post">POST</span>
                  <span class="font-mono text-lg">/api/acts/{'{id}'}/members</span>
                </div>
                <i class="fas fa-chevron-down text-gray-400"></i>
              </div>
              <p class="text-gray-600">Add a user to an act</p>
            </div>

            <div id="test-panel-addMember" class="test-panel" style="display: none;">
              <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">Act ID</label>
                <input type="text" id="id-addMember" placeholder="Enter act ID..."
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500">
              </div>
              <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">Request Body (JSON)</label>
                <textarea id="body-addMember" rows="3"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500">{"userId": "user-uuid-here", "role": "Lead Vocalist"}</textarea>
              </div>
              <div class="flex gap-4 mb-4">
                <button onclick="sendInlineRequest('addMember', 'POST', '/api/acts')"
                  class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition">
                  <i class="fas fa-paper-plane"></i> Send Request
                </button>
                <button onclick="closeInlinePanel('addMember')"
                  class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition">
                  Cancel
                </button>
              </div>
              <div id="response-addMember" class="mt-4" style="display: none;">
                <h4 class="text-lg font-bold mb-2">Response</h4>
                <div class="code-block">
                  <pre id="response-content-addMember"></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- Get All Acts (Admin) -->
          <div class="endpoint-card">
            <div class="endpoint-header" onclick="toggleTestPanel('getAllActs', 'GET', '/api/acts?all=true')">
              <div class="flex items-center justify-between mb-3">
                <div class="flex items-center gap-3">
                  <span class="method-badge method-get">GET</span>
                  <span class="font-mono text-lg">/api/acts?all=true</span>
                  <span class="text-xs bg-red-100 text-red-800 px-2 py-1 rounded">Admin Only</span>
                </div>
                <i class="fas fa-chevron-down text-gray-400"></i>
              </div>
              <p class="text-gray-600">Get all acts in the system (admin operation)</p>
            </div>

            <div id="test-panel-getAllActs" class="test-panel" style="display: none;">
              <div class="flex gap-4 mb-4">
                <button onclick="sendInlineRequest('getAllActs', 'GET', '/api/acts?all=true')"
                  class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition">
                  <i class="fas fa-paper-plane"></i> Send Request
                </button>
                <button onclick="closeInlinePanel('getAllActs')"
                  class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition">
                  Cancel
                </button>
              </div>
              <div id="response-getAllActs" class="mt-4" style="display: none;">
                <h4 class="text-lg font-bold mb-2">Response</h4>
                <div class="code-block">
                  <pre id="response-content-getAllActs"></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- Delete All Acts (Admin) -->
          <div class="endpoint-card">
            <div class="endpoint-header" onclick="toggleTestPanel('deleteAllActs', 'DELETE', '/api/acts/delete-all')">
              <div class="flex items-center justify-between mb-3">
                <div class="flex items-center gap-3">
                  <span class="method-badge method-delete">DELETE</span>
                  <span class="font-mono text-lg">/api/acts/delete-all</span>
                  <span class="text-xs bg-red-100 text-red-800 px-2 py-1 rounded">Admin Only</span>
                </div>
                <i class="fas fa-chevron-down text-gray-400"></i>
              </div>
              <p class="text-gray-600">Delete all acts (admin operation)</p>
            </div>

            <div id="test-panel-deleteAllActs" class="test-panel" style="display: none;">
              <div class="flex gap-4 mb-4">
                <button onclick="sendInlineRequest('deleteAllActs', 'DELETE', '/api/acts/delete-all')"
                  class="bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition">
                  <i class="fas fa-trash"></i> Delete All Acts
                </button>
                <button onclick="closeInlinePanel('deleteAllActs')"
                  class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition">
                  Cancel
                </button>
              </div>
              <div id="response-deleteAllActs" class="mt-4" style="display: none;">
                <h4 class="text-lg font-bold mb-2">Response</h4>
                <div class="code-block">
                  <pre id="response-content-deleteAllActs"></pre>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Setlists Section -->
        <div>
          <h2 class="text-2xl font-bold text-gray-800 mb-4 mt-8">
            <i class="fas fa-list"></i> Setlists Endpoints
            <span class="text-sm font-normal text-gray-500">(Requires Authorization Header)</span>
          </h2>

          <!-- Get Setlists -->
          <div class="endpoint-card">
            <div class="endpoint-header" onclick="toggleTestPanel('getSetlists', 'GET', '/api/sets')">
              <div class="flex items-center justify-between mb-3">
                <div class="flex items-center gap-3">
                  <span class="method-badge method-get">GET</span>
                  <span class="font-mono text-lg">/api/sets</span>
                </div>
                <i class="fas fa-chevron-down text-gray-400"></i>
              </div>
              <p class="text-gray-600">Get all sets or filter by actId query parameter</p>
            </div>

            <div id="test-panel-getSetlists" class="test-panel" style="display: none;">
              <div class="flex gap-4 mb-4">
                <button onclick="sendInlineRequest('getSetlists', 'GET', '/api/sets')"
                  class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition">
                  <i class="fas fa-paper-plane"></i> Send Request
                </button>
                <button onclick="closeInlinePanel('getSetlists')"
                  class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition">
                  Cancel
                </button>
              </div>
              <div id="response-getSetlists" class="mt-4" style="display: none;">
                <h4 class="text-lg font-bold mb-2">Response</h4>
                <div class="code-block">
                  <pre id="response-content-getSetlists"></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- Create Setlist -->
          <div class="endpoint-card">
            <div class="endpoint-header" onclick="toggleTestPanel('createSetlist', 'POST', '/api/sets')">
              <div class="flex items-center justify-between mb-3">
                <div class="flex items-center gap-3">
                  <span class="method-badge method-post">POST</span>
                  <span class="font-mono text-lg">/api/sets</span>
                </div>
                <i class="fas fa-chevron-down text-gray-400"></i>
              </div>
              <p class="text-gray-600">Create a new set for an act</p>
            </div>

            <div id="test-panel-createSetlist" class="test-panel" style="display: none;">
              <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">Request Body (JSON)</label>
                <textarea id="body-createSetlist" rows="4"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500">{"actId": "act-uuid-here", "title": "Summer Tour 2024", "description": "Main set for summer tour"}</textarea>
              </div>
              <div class="flex gap-4 mb-4">
                <button onclick="sendInlineRequest('createSetlist', 'POST', '/api/sets')"
                  class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition">
                  <i class="fas fa-paper-plane"></i> Send Request
                </button>
                <button onclick="closeInlinePanel('createSetlist')"
                  class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition">
                  Cancel
                </button>
              </div>
              <div id="response-createSetlist" class="mt-4" style="display: none;">
                <h4 class="text-lg font-bold mb-2">Response</h4>
                <div class="code-block">
                  <pre id="response-content-createSetlist"></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- Get Setlist by ID -->
          <div class="endpoint-card">
            <div class="endpoint-header" onclick="toggleTestPanel('getSetlistById', 'GET', '/api/sets')">
              <div class="flex items-center justify-between mb-3">
                <div class="flex items-center gap-3">
                  <span class="method-badge method-get">GET</span>
                  <span class="font-mono text-lg">/api/sets/{'{id}'}</span>
                </div>
                <i class="fas fa-chevron-down text-gray-400"></i>
              </div>
              <p class="text-gray-600">Get a specific set by ID</p>
            </div>

            <div id="test-panel-getSetlistById" class="test-panel" style="display: none;">
              <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">Setlist ID</label>
                <input type="text" id="id-getSetlistById" placeholder="Enter set ID..."
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500">
              </div>
              <div class="flex gap-4 mb-4">
                <button onclick="sendInlineRequest('getSetlistById', 'GET', '/api/sets')"
                  class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition">
                  <i class="fas fa-paper-plane"></i> Send Request
                </button>
                <button onclick="closeInlinePanel('getSetlistById')"
                  class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition">
                  Cancel
                </button>
              </div>
              <div id="response-getSetlistById" class="mt-4" style="display: none;">
                <h4 class="text-lg font-bold mb-2">Response</h4>
                <div class="code-block">
                  <pre id="response-content-getSetlistById"></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- Update Setlist -->
          <div class="endpoint-card">
            <div class="endpoint-header" onclick="toggleTestPanel('updateSetlist', 'PUT', '/api/sets')">
              <div class="flex items-center justify-between mb-3">
                <div class="flex items-center gap-3">
                  <span class="method-badge method-put">PUT</span>
                  <span class="font-mono text-lg">/api/sets/{'{id}'}</span>
                </div>
                <i class="fas fa-chevron-down text-gray-400"></i>
              </div>
              <p class="text-gray-600">Update set information</p>
            </div>

            <div id="test-panel-updateSetlist" class="test-panel" style="display: none;">
              <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">Setlist ID</label>
                <input type="text" id="id-updateSetlist" placeholder="Enter set ID..."
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500">
              </div>
              <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">Request Body (JSON)</label>
                <textarea id="body-updateSetlist" rows="4"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500">{"title": "Updated Setlist Name", "description": "Updated description"}</textarea>
              </div>
              <div class="flex gap-4 mb-4">
                <button onclick="sendInlineRequest('updateSetlist', 'PUT', '/api/sets')"
                  class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition">
                  <i class="fas fa-paper-plane"></i> Send Request
                </button>
                <button onclick="closeInlinePanel('updateSetlist')"
                  class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition">
                  Cancel
                </button>
              </div>
              <div id="response-updateSetlist" class="mt-4" style="display: none;">
                <h4 class="text-lg font-bold mb-2">Response</h4>
                <div class="code-block">
                  <pre id="response-content-updateSetlist"></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- Delete Setlist -->
          <div class="endpoint-card">
            <div class="endpoint-header" onclick="toggleTestPanel('deleteSetlist', 'DELETE', '/api/sets')">
              <div class="flex items-center justify-between mb-3">
                <div class="flex items-center gap-3">
                  <span class="method-badge method-delete">DELETE</span>
                  <span class="font-mono text-lg">/api/sets/{'{id}'}</span>
                </div>
                <i class="fas fa-chevron-down text-gray-400"></i>
              </div>
              <p class="text-gray-600">Delete a set</p>
            </div>

            <div id="test-panel-deleteSetlist" class="test-panel" style="display: none;">
              <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">Setlist ID</label>
                <input type="text" id="id-deleteSetlist" placeholder="Enter set ID..."
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500">
              </div>
              <div class="flex gap-4 mb-4">
                <button onclick="sendInlineRequest('deleteSetlist', 'DELETE', '/api/sets')"
                  class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition">
                  <i class="fas fa-paper-plane"></i> Send Request
                </button>
                <button onclick="closeInlinePanel('deleteSetlist')"
                  class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition">
                  Cancel
                </button>
              </div>
              <div id="response-deleteSetlist" class="mt-4" style="display: none;">
                <h4 class="text-lg font-bold mb-2">Response</h4>
                <div class="code-block">
                  <pre id="response-content-deleteSetlist"></pre>
                </div>
              </div>
            </div>
          </div>

          <!-- Delete All Setlists (Admin) -->
          <div class="endpoint-card">
            <div class="endpoint-header"
              onclick="toggleTestPanel('deleteAllSetlists', 'DELETE', '/api/sets/delete-all')">
              <div class="flex items-center justify-between mb-3">
                <div class="flex items-center gap-3">
                  <span class="method-badge method-delete">DELETE</span>
                  <span class="font-mono text-lg">/api/sets/delete-all</span>
                  <span class="text-xs bg-red-100 text-red-800 px-2 py-1 rounded">Admin Only</span>
                </div>
                <i class="fas fa-chevron-down text-gray-400"></i>
              </div>
              <p class="text-gray-600">Delete all sets (admin operation)</p>
            </div>

            <div id="test-panel-deleteAllSetlists" class="test-panel" style="display: none;">
              <div class="flex gap-4 mb-4">
                <button onclick="sendInlineRequest('deleteAllSetlists', 'DELETE', '/api/sets/delete-all')"
                  class="bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition">
                  <i class="fas fa-trash"></i> Delete All Setlists
                </button>
                <button onclick="closeInlinePanel('deleteAllSetlists')"
                  class="bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition">
                  Cancel
                </button>
              </div>
              <div id="response-deleteAllSetlists" class="mt-4" style="display: none;">
                <h4 class="text-lg font-bold mb-2">Response</h4>
                <div class="code-block">
                  <pre id="response-content-deleteAllSetlists"></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div class="mt-8 text-center text-gray-600">
      <p>Built Using Vercel Serverless Functions</p>
    </div>
  </div>

  <script>
    function toggleTestPanel(id, method, endpoint, body = null, requiresId = false) {
      const panel = document.getElementById(`test-panel-${id}`);
      const isVisible = panel.style.display !== 'none';

      // Close all other panels
      document.querySelectorAll('.test-panel').forEach(p => p.style.display = 'none');

      // Toggle this panel
      panel.style.display = isVisible ? 'none' : 'block';

      // Auto-populate auth token if available
      if (!isVisible) {
        const token = localStorage.getItem('authToken');
        const authInput = document.getElementById(`auth-${id}`);
        if (token && authInput && !authInput.value) {
          authInput.value = token;
        }
      }

      // Reset response section
      const responseSection = document.getElementById(`response-${id}`);
      if (responseSection) responseSection.style.display = 'none';
    }

    function closeInlinePanel(id) {
      document.getElementById(`test-panel-${id}`).style.display = 'none';
    }

    async function sendInlineRequest(id, method, endpoint, body = null, idParam = null) {
      const baseUrl = document.getElementById('baseUrl').textContent;
      const authToken = localStorage.getItem('authToken') || '';
      const requestBodyElem = document.getElementById(`body-${id}`);
      const idParamElem = document.getElementById(`id-${id}`);
      const responseSection = document.getElementById(`response-${id}`);
      const responseContent = document.getElementById(`response-content-${id}`);

      let url = baseUrl + endpoint;

      // Handle ID parameter if present
      if (idParamElem) {
        const idValue = idParamElem.value.trim();
        if (!idValue) {
          responseContent.textContent = 'Error: ID parameter is required for this endpoint';
          responseSection.style.display = 'block';
          return;
        }
        url += '/' + idValue;
      }

      const options = {
        method: method,
        headers: {
          'Content-Type': 'application/json'
        }
      };

      if (authToken) {
        options.headers['Authorization'] = authToken.startsWith('Bearer ') ? authToken : `Bearer ${authToken}`;
      }

      if (method !== 'GET' && requestBodyElem) {
        try {
          const bodyText = requestBodyElem.value;
          if (bodyText) {
            options.body = bodyText;
          }
        } catch (e) {
          responseContent.textContent = 'Invalid JSON in request body';
          responseSection.style.display = 'block';
          return;
        }
      }

      try {
        const response = await fetch(url, options);
        let data;
        const contentType = response.headers.get('content-type');

        if (contentType && contentType.includes('application/json')) {
          data = await response.json();
        } else {
          const text = await response.text();
          data = { error: 'Non-JSON response', body: text.substring(0, 500) };
        }

        // If this is a login request and successful, store the token
        if (id === 'login' && data.success && data.data && data.data.token) {
          storeAuthToken(data.data.token, data.data.user);
        }

        responseContent.textContent = JSON.stringify({
          status: response.status,
          statusText: response.statusText,
          data: data
        }, null, 2);

        responseSection.style.display = 'block';
      } catch (error) {
        responseContent.textContent = `Error: ${error.message}`;
        responseSection.style.display = 'block';
      }
    }

    // Store auth token and user info
    function storeAuthToken(token, user) {
      localStorage.setItem('authToken', token);
      localStorage.setItem('userEmail', user.email);
      localStorage.setItem('userName', user.name || '');
      updateLoginStatus();
    }

    // Update login status display
    function updateLoginStatus() {
      const token = localStorage.getItem('authToken');
      const email = localStorage.getItem('userEmail');
      const loginStatus = document.getElementById('loginStatus');

      if (token && email) {
        loginStatus.style.display = 'block';
        document.getElementById('userEmail').textContent = email;
        document.getElementById('displayToken').textContent = token;

        // Auto-populate all auth token fields
        document.querySelectorAll('[id^="auth-"]').forEach(input => {
          if (!input.value) {
            input.value = token;
          }
        });
      } else {
        loginStatus.style.display = 'none';
      }
    }

    // Logout function
    function logout() {
      localStorage.removeItem('authToken');
      localStorage.removeItem('userEmail');
      localStorage.removeItem('userName');
      updateLoginStatus();

      // Clear all auth token fields
      document.querySelectorAll('[id^="auth-"]').forEach(input => {
        input.value = '';
      });
    }

    // Auto-detect base URL
    if (window.location.hostname !== 'localhost') {
      document.getElementById('baseUrl').textContent = window.location.origin;
    }

    // Check login status on page load
    updateLoginStatus();
  </script>
</body>

</html>